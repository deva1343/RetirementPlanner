<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebApplication" x-data="app()" x-cloak>
<head>
  <meta charset="UTF-8">
  <meta name="google-adsense-account" content="ca-pub-9260288636900184">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="/manifest.webmanifest">

  <!-- SEO Meta Tags -->
  <title>dPal - AI Holistic Wellness Planner: Personalized Diet, Fitness, Finance & Mindfulness</title>
  <meta name="description" content="Achieve holistic wellness with dPal, an AI-driven planner for personalized diet & nutrition, BMI tracking, custom workouts, smart investment CAGR calculation, retirement & loan planning, and mindfulness practices.">
  <meta name="keywords" content="AI holistic wellness planner, personalized diet plan, nutrition guide, BMI calculator, body mass index tracker, AI workout generator, custom fitness routines, CAGR calculator, investment growth calculator, retirement planning tool, loan calculator, EMI calculator, amortization schedule, mindfulness app, mood tracker, gratitude journal, mental wellness, financial health, wellness app, productivity planner, digital life coach, AI driven wellness, personal finance, health and wealth management, balanced lifestyle app, diet and nutrition plan, investment planning, retirement calculator, loan analyzer">
  <link rel="canonical" href="https://www.dpal.site/dpal">

  <!-- Open Graph / Social Media -->
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="website">
  <meta property="og:title" content="dPal - AI Holistic Wellness Planner: Diet, Fitness, Finance & Mind - Your AI Life Balance Companion">
  <meta property="og:description" content="Find balance with dPal, the AI holistic planner. Get personalized diet & nutrition plans, BMI tracking, AI workouts, CAGR & loan calculators, retirement planning & mindfulness tools for complete well-being.">
  <meta property="og:url" content="https://www.dpal.site/dpal">
  <meta property="og:site_name" content="dPal Holistic Wellness Planner">
  <meta property="og:image" content="https://www.dpal.site/images/dpal-og-image-v3.jpg">
  <meta property="og:image:alt" content="dPal Holistic Wellness Planner Dashboard Preview">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:description" content="Balance your life with dPal AI Holistic Planner! AI-powered tools for Diet, Fitness, Wealth & Mind. #AIWellness #HolisticHealth #LifeBalance #FinTech">
  <meta name="twitter:title" content="dPal - AI Holistic Wellness Planner | Diet, Fitness, Finance & Mind Tools">
  <meta name="twitter:site" content="@dPalApp">
  <meta name="twitter:image" content="https://www.dpal.site/images/dpal-twitter-card-v3.jpg">
  <meta name="twitter:image:alt" content="dPal AI Holistic Wellness Planner App Interface">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "dPal - AI Holistic Wellness Planner",
    "description": "dPal is your AI-powered holistic life management companion, integrating tools for personalized diet & nutrition planning, fitness, wealth building through smart investment analysis, loan management, retirement planning, and mindfulness to help you achieve a balanced and fulfilling lifestyle.",
    "applicationCategory": ["HealthApplication", "FinanceApplication", "ProductivityApplication"],
    "operatingSystem": "Web, Android, iOS",
    "url": "https://www.dpal.site/dpal",
    "keywords": "AI holistic planner, diet nutrition app, fitness planner, workout generator, BMI calculator, CAGR calculator, retirement planner, loan calculator, mindfulness app, mood tracker, gratitude journal, wellness tools, financial planning, life balance, digital health coach, personalized meal plans, investment analysis, loan management, retirement savings",
    "image": "https://www.dpal.site/images/dpal-app-icon-v2.png",
    "brand": {
      "@type": "Brand",
      "name": "dPal",
      "logo": "https://www.dpal.site/images/dpal-logo-v2.png"
    },
    "creator": {
      "@type": "Organization",
      "name": "Your Company Name",
      "url": "https://www.dpal.site"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Your Company Name",
      "url": "https://www.dpal.site"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.9",
      "reviewCount": "580"
    },
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD",
      "availability": "https://schema.org/OnlineOnly"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://www.dpal.site/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Styles & Libraries -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .float-animation { animation: float 3s ease-in-out infinite; }
    [x-cloak] { display: none !important; }
    :root {
      --health-color: #059669;
      --wealth-color: #2563EB;
      --mind-color: #6D28D9;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      background: #F3F4F6;
    }
    .main-menu {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      height: 100vh;
      padding: 2rem;
    }
    .main-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      color: white;
    }
    .main-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.1);
      opacity: 0;
      transition: var(--transition);
    }
    .main-option:hover::before {
      opacity: 1;
      transform: scale(1.02);
    }
    .health-option { background: var(--health-color); }
    .wealth-option { background: var(--wealth-color); }
    .mind-option { background: var(--mind-color); }
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .popup-content {
      background: white;
      border-radius: 1.5rem;
      padding: 2rem;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      transform: scale(0.8);
      opacity: 0;
      transition: var(--transition);
      position: relative;
    }
    .popup-content.active {
      transform: scale(1);
      opacity: 1;
    }
    .close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 50%;
      transition: var(--transition);
      color: #64748b;
      font-size: 1.5rem;
      line-height: 1;
    }
    .close-btn:hover {
      background: #f1f5f9;
    }
    .section-grid {
      display: grid;
      gap: 1.5rem;
      margin-top: 2rem;
    }
    .feature-card {
      padding: 1.5rem;
      border-radius: 1rem;
      border: 1px solid #e2e8f0;
      position: relative;
      overflow: hidden;
      transition: var(--transition);
      background: white;
    }
    .feature-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05);
    }
    /* Meditation Timer Styling – Reduced size for room to add more elements */
    .meditation-timer {
      text-align: center;
      padding: 1rem;
      background: #fff;
      border-radius: 1rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-bottom: 1rem;
    }
    .timer-display {
      font-size: 2.5rem;
      margin: 0.5rem 0;
      font-weight: bold;
      color: var(--mind-color);
    }
    .timer-controls {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 0.5rem;
    }
    .preset-buttons {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      margin-top: 0.5rem;
      flex-wrap: wrap;
    }
    .action-button, .preset-button {
      padding: 0.5rem 1rem;
      border-radius: 0.75rem;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      background-color: #5bbd73;
      color: #fff;
      box-shadow: 0 2px 4px rgba(10, 150, 50, 0.08);
    }
    .action-button:hover, .preset-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 6px rgba(0,0,0,0.15);
      filter: brightness(1.1);
    }
    .mind-section .action-button, .mind-section .preset-button {
      background: var(--mind-color);
      border: 1px solid #5B21B6;
    }
    /* Mood Tracker Styling – Improved appearance and responsiveness */
    .mood-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin: 0.5rem 0;
    }
    .mood-button {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: var(--transition);
      color: white;
      font-weight: 500;
    }
    .mood-entry {
      background: #e5e7eb;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      margin: 0.25rem;
      display: inline-block;
      font-size: 0.9rem;
    }
    @media (max-width: 768px) {
      .main-menu {
        grid-template-columns: 1fr;
        padding: 1rem;
        gap: 1rem;
      }
      .popup-content {
        padding: 1.5rem;
      }
      .mood-grid {
        flex-direction: column;
        align-items: center;
      }
    }
    /* Blog Post Integration Styles */
    .post-card {
      margin: 1rem 0;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-radius: 5px;
      background: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .post-image-container {
      width: 100%;
      overflow: hidden;
      border-radius: 5px;
      margin-bottom: 0.5rem;
    }
    .post-image-container img {
      width: 100%;
      object-fit: cover;
      display: block;
    }
    .post-content h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    .post-content p {
      font-size: 0.95rem;
      margin-bottom: 0.5rem;
    }
    .read-more {
      font-size: 0.9rem;
      color: var(--health-color);
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
  <!-- Header -->
  <header class="sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-50">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <img src="logo.png" alt="dPal" class="h-10 w-10 float-animation">
        <span class="text-2xl font-bold text-gray-800">dPal</span>
      </div>
      <!-- Header Ad -->
      <div class="hidden lg:block">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9260288636900184"></script>
        <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-9260288636900184"></ins>
      </div>
    </div>
  </header>

  <!-- Main Grid -->
  <main class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Health Section -->
      <div @click="openSection = 'health'" class="bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-6 cursor-pointer transform transition hover:scale-[1.02]">
        <div class="text-white text-center space-y-4">
          <h2 class="text-3xl font-bold">Health</h2>
          <p class="opacity-90">AI-powered wellness solutions</p>
          <div class="inline-block bg-white/20 px-4 py-1 rounded-full text-sm">Explore Tools</div>
        </div>
      </div>
      <!-- Wealth Section -->
      <div @click="openSection = 'wealth'" class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 cursor-pointer transform transition hover:scale-[1.02]">
        <div class="text-white text-center space-y-4">
          <h2 class="text-3xl font-bold">Wealth</h2>
          <p class="opacity-90">Financial planning tools</p>
          <div class="inline-block bg-white/20 px-4 py-1 rounded-full text-sm">Explore Tools</div>
        </div>
      </div>
      <!-- Mind Section -->
      <div @click="openSection = 'mind'" class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 cursor-pointer transform transition hover:scale-[1.02]">
        <div class="text-white text-center space-y-4">
          <h2 class="text-3xl font-bold">Mind</h2>
          <p class="opacity-90">Mindfulness & Productivity</p>
          <div class="inline-block bg-white/20 px-4 py-1 rounded-full text-sm">Explore Tools</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Health Modal -->
  <div x-show="openSection === 'health'" x-cloak class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-y-auto">
    <div class="container mx-auto p-4 max-w-4xl min-h-screen flex items-center">
      <div class="bg-white rounded-2xl p-6 shadow-2xl w-full">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Health Management Suite</h3>
          <button @click="openSection = null" class="text-gray-500 hover:text-gray-700 transition">✕</button>
        </div>
        <!-- In-content Ad -->
        <div class="my-6">
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9260288636900184"></script>
          <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86"></ins>
        </div>
        <!-- Features Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
            <h4 class="font-semibold mb-2">AI Diet Planner</h4>
            <p class="text-sm text-gray-600 mb-3">Personalized nutrition plans</p>
            <button onclick="window.location.href='Diet-Planner.html'" class="bg-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm hover:bg-emerald-200 transition">Start Planning →</button>
          </div>
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
            <h4 class="font-semibold mb-2">Workout Generator</h4>
            <p class="text-sm text-gray-600 mb-3">Custom exercise routines</p>
            <button onclick="window.location.href='Workout-Planner.html'" class="bg-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm hover:bg-emerald-200 transition">Get Started →</button>
          </div>
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
            <h4 class="font-semibold mb-2">BMI Calculator</h4>
            <p class="text-sm text-gray-600 mb-3">Body mass analysis</p>
            <button onclick="window.location.href='BMI-Calculator.html'" class="bg-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm hover:bg-emerald-200 transition">Check Now →</button>
          </div>
        </div>
        <!-- Blog Posts -->
        <div class="mt-8">
          <h4 class="text-lg font-semibold mb-4">Latest Health Articles</h4>
          <div id="health-posts" class="grid gap-4"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Wealth Modal -->
  <div x-show="openSection === 'wealth'" x-cloak class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-y-auto">
    <div class="container mx-auto p-4 max-w-4xl min-h-screen flex items-center">
      <div class="bg-white rounded-2xl p-6 shadow-2xl w-full">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Wealth Management Tools</h3>
          <button @click="openSection = null" class="text-gray-500 hover:text-gray-700 transition">✕</button>
        </div>
        <!-- Tax Help Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div id="indiaTax" class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
            <h4 class="font-semibold mb-2">India Tax Help</h4>
            <div class="space-y-2">
              <a href="taxBotGemini1.html" class="block px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">GeminiBot-2</a>
              <a href="DSBot2.html" class="block px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">DSBot-1</a>
              <a href="DSBotMobile.html" class="block px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">DSBot (Mobile)</a>
            </div>
          </div>
          <div id="usaTax" class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
            <h4 class="font-semibold mb-2">USA Tax Help</h4>
            <div class="space-y-2">
              <a href="ustaxcomprehensive.html" class="block px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">Federal TAX AI</a>
              <a href="ustax.html" class="block px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">USA TAX BOT</a>
            </div>
          </div>
        </div>
        <!-- Financial Tools -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
            <h4 class="font-semibold mb-2">SIP Calculator</h4>
            <a href="SIP-calculatore.html" class="text-blue-600 hover:text-blue-800 transition">Calculate →</a>
          </div>
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
            <h4 class="font-semibold mb-2">Retirement Planner</h4>
            <a href="Retirement-Planner.html" class="text-blue-600 hover:text-blue-800 transition">Plan Now →</a>
          </div>
          <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
            <h4 class="font-semibold mb-2">Loan Analyzer</h4>
            <a href="Loan-Analyzer.html" class="text-blue-600 hover:text-blue-800 transition">Analyze →</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mind Modal -->
  <div x-show="openSection === 'mind'" x-cloak class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-y-auto">
    <div class="container mx-auto p-4 max-w-4xl min-h-screen flex items-center">
      <div class="bg-white rounded-2xl p-6 shadow-2xl w-full">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Mindfulness Tools</h3>
          <button @click="openSection = null" class="text-gray-500 hover:text-gray-700 transition">✕</button>
        </div>
        <!-- Meditation Timer -->
        <div class="bg-purple-50 p-4 rounded-xl">
          <h4 class="text-lg font-semibold mb-4">Meditation Timer</h4>
          <div class="text-center space-y-4">
            <div class="text-4xl font-mono" x-text="formatTime(meditation.elapsed)">00:00</div>
            <div class="flex justify-center space-x-4">
              <button @click="startTimer()" class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition" :disabled="meditation.timer">Start</button>
              <button @click="stopTimer()" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition" :disabled="!meditation.timer">Stop</button>
            </div>
            <div class="flex justify-center gap-2 mt-4">
              <button @click="startPreset(15)" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg">15m</button>
              <button @click="startPreset(30)" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg">30m</button>
              <button @click="startPreset(60)" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg">60m</button>
            </div>
            <div class="text-sm text-gray-600">Best: <span x-text="formatTime(meditation.bestTime)"></span></div>
          </div>
        </div>
        <!-- Mood Tracker -->
        <div class="mt-6 bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
          <h4 class="text-lg font-semibold mb-4">Mood Tracker</h4>
          <div class="grid grid-cols-3 gap-2">
            <button @click="logMood('happy')" class="p-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition">😊 Happy</button>
            <button @click="logMood('neutral')" class="p-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition">😐 Neutral</button>
            <button @click="logMood('sad')" class="p-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition">😞 Sad</button>
          </div>
          <div class="mt-4">
            <h5 class="font-medium mb-2">Recent Entries</h5>
            <div class="flex flex-wrap gap-2">
              <template x-for="entry in moodHistory" :key="entry.timestamp">
                <div class="px-3 py-1 bg-gray-100 rounded-full text-sm">
                  <span x-text="getMoodEmoji(entry.mood)"></span>
                  <span x-text="new Date(entry.date).toLocaleDateString()"></span>
                </div>
              </template>
            </div>
          </div>
        </div>
        <!-- Blog Posts -->
        <div class="mt-8">
          <h4 class="text-lg font-semibold mb-4">Mindfulness Articles</h4>
          <div id="mind-posts" class="grid gap-4"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Hidden audio elements for start/stop sounds -->
  <audio id="startSound" src="start-sound.mp3"></audio>
  <audio id="stopSound" src="stop-sound.mp3"></audio>

  <!-- Scripts -->
  <script>
    document.addEventListener('alpine:init', () => {
      Alpine.data('app', () => ({
        openSection: null,
        meditation: {
          timer: null,
          elapsed: 0,
          bestTime: localStorage.getItem('meditation-best') || 0
        },
        moodHistory: JSON.parse(localStorage.getItem('mood-history') || '[]'),

        init() {
          this.loadLocationBasedTax();
          this.meditation.bestTime = parseInt(this.meditation.bestTime);
        },

        formatTime(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return `${mins}:${secs}`;
        },

        startTimer() {
          if(this.meditation.timer) return;
          this.meditation.timer = setInterval(() => {
            this.meditation.elapsed++;
          }, 1000);
        },

        stopTimer() {
          clearInterval(this.meditation.timer);
          this.meditation.timer = null;
          if(this.meditation.elapsed > this.meditation.bestTime) {
            this.meditation.bestTime = this.meditation.elapsed;
            localStorage.setItem('meditation-best', this.meditation.bestTime);
          }
          this.meditation.elapsed = 0;
        },

        startPreset(minutes) {
          this.meditation.elapsed = minutes * 60;
          this.startTimer();
        },

        logMood(mood) {
          const entry = {
            mood,
            date: new Date().toISOString(),
            timestamp: Date.now()
          };
          this.moodHistory = [entry, ...this.moodHistory].slice(0, 5);
          localStorage.setItem('mood-history', JSON.stringify(this.moodHistory));
        },

        getMoodEmoji(mood) {
          return { happy: '😊', neutral: '😐', sad: '😞' }[mood] || '❓';
        },

        async loadLocationBasedTax() {
          try {
            const response = await fetch('https://ipapi.co/json/');
            const data = await response.json();
            if(data.country_code === 'IN') {
              document.getElementById('indiaTax').classList.remove('hidden');
              document.getElementById('usaTax').classList.add('hidden');
            } else {
              document.getElementById('usaTax').classList.remove('hidden');
              document.getElementById('indiaTax').classList.add('hidden');
            }
          } catch (error) {
            console.error('Location detection failed:', error);
          }
        },

        async loadPostsByCategory(section) {
          try {
            const response = await fetch('https://bpost.dpal.site/posts.json');
            const posts = await response.json();
            const containerId = `${section}-posts`;
            const container = document.getElementById(containerId);
            container.innerHTML = posts.filter(post =>
              (section === 'health' && ['Food & Recipes', 'Health & Fitness'].includes(post.category)) ||
              (section === 'mind' && post.category === 'Lifestyle')
            ).map(post => `
              <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
                <div class="aspect-video mb-3 rounded-lg overflow-hidden">
                  <img src="${post.image}" alt="${post.title}" class="w-full h-full object-cover">
                </div>
                <h5 class="font-semibold mb-2">${post.title}</h5>
                <p class="text-sm text-gray-600 mb-3">${post.summary}</p>
                <a href="https://bpost.dpal.site/post.html?id=${post.id}" class="text-purple-600 hover:text-purple-800 font-medium text-sm">Read More →</a>
              </div>
            `).join('');
          } catch (error) {
            console.error('Error loading posts:', error);
          }
        }
      }));
    });

    // Initialize Ads
    (adsbygoogle = window.adsbygoogle || []).push({});

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.log('Registration failed:', err));
      });
    }

    // Google Analytics
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K9KZ60761N');


     // Load posts by category: for 'health' (Food & Recipes, Health & Fitness) and 'mind' (Lifestyle)
    function loadPostsByCategory(section) {
      fetch(postsJsonUrl)
        .then(response => response.json())
        .then(posts => {
          // Clear existing containers
          if(section === 'health'){
            document.getElementById('health-posts').innerHTML = '';
          } else if(section === 'mind'){
            document.getElementById('mind-posts').innerHTML = '';
          }
          // Loop through posts and filter by category
          posts.forEach(post => {
            // For Health section: categories Food & Recipes, Health & Fitness
            if(section === 'health' && (post.category === 'Food & Recipes' || post.category === 'Health & Fitness')) {
              const card = document.createElement('div');
              card.className = 'post-card';
              card.innerHTML = `
                <div class="post-image-container">
                  <img src="${post.image}" alt="${post.title}">
                </div>
                <div class="post-content">
                  <h3>${post.title}</h3>
                  <p>${post.summary}</p>
                  <a class="read-more" href="https://bpost.dpal.site/post.html?id=${post.id}">Read More</a>
                </div>
              `;
              document.getElementById('health-posts').appendChild(card);
            }
            // For Mind section: category Lifestyle
            if(section === 'mind' && post.category === 'Lifestyle') {
              const card = document.createElement('div');
              card.className = 'post-card';
              card.innerHTML = `
                <div class="post-image-container">
                  <img src="${post.image}" alt="${post.title}">
                </div>
                <div class="post-content">
                  <h3>${post.title}</h3>
                  <p>${post.summary}</p>
                  <a class="read-more" href="https://bpost.dpal.site/post.html?id=${post.id}">Read More</a>
                </div>
              `;
              document.getElementById('mind-posts').appendChild(card);
            }
          });
        })
        .catch(error => console.error('Error loading posts:', error));
    }

  </script>

</body>
</html>
