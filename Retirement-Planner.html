<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Global Financial Planning & Retirement Savings Calculator | Project Your Financial Future</title>
    <meta name="title" content="Global Financial Planning & Retirement Savings Calculator | Project Your Financial Future">

    <!-- Google adssence) -->
  <meta name="google-adsense-account" content="ca-pub-9260288636900184">

    
    <meta name="description" content="Plan your financial future with our global retirement savings calculator. Get personalized projections, explore diverse investment strategies, and optimize your wealth accumulation worldwide. Start your financial journey today!">
    <meta name="keywords" content="financial planning, retirement calculator, savings calculator, investment calculator, wealth planning, financial future, investment growth, portfolio growth, long-term investment, financial goals, retirement planning worldwide, global retirement planning, international retirement planning, pension calculator, superannuation calculator, RRSP calculator, TFSA calculator, KiwiSaver calculator, ISA calculator, SIPP calculator, retirement projections, financial independence, early retirement, retire early, investment planning, wealth accumulation, financial planning tool, investment strategies, retirement savings, 401k planner, IRA calculator, retirement planning tool">
    <meta name="author" content="Your Company Name">

   <meta name="google-site-verification" content="aRITw_Jl3mxcitcJNjLy5vr0Q8xdU2nL-oM_vu_bKDs" />

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dpal.site">
    <meta property="og:title" content="Global Financial Planning & Retirement Savings Calculator">
    <meta property="og:description" content="Plan your financial future globally with our advanced calculator. Get personalized projections and optimize your wealth accumulation worldwide.">
    <meta property="og:image" content="https://dpal.site/images/financial-calculator-preview.jpg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://dpal.site">
    <meta property="twitter:title" content="Global Financial Planning & Retirement Savings Calculator">
    <meta property="twitter:description" content="Plan your financial future globally with our advanced calculator. Get personalized projections and optimize your wealth accumulation worldwide.">
    <meta property="twitter:image" content="https://dpal.site/images/financial-calculator-preview.jpg">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://dpal.site" />

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FinancialService",
        "name": "Global Financial Planner",
        "description": "Comprehensive financial planning tool to calculate savings, explore investment strategies, and project wealth growth for a global audience.",
        "url": "https://dpal.site",
        "operatingArea": {
            "@type": "WorldRegion",
            "name": "Worldwide"
        },
        "offers": {
            "@type": "Service",
            "name": "Free Financial Calculator",
            "category": "Financial Planning",
            "audience": {
                "@type": "PeopleAudience",
                "geographicArea": {
                    "@type": "WorldRegion",
                    "name": "Worldwide"
                },
                "suggestedAge": {
                    "@type": "QuantitativeValue",
                    "minValue": 25,
                    "maxValue": 65
                }
            }
        }
    }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
   <style>
    :root {
        --primary: #2c3e50;
        --secondary: #3498db;
        --light: #ecf0f1;
        --success: #27ae60;
        --warning: #f1c40f;
        --danger: #e74c3c;
        --text: #2d3436;
    }

    * {
        box-sizing: border-box;
        font-family: 'Segoe UI', system-ui, sans-serif;
        margin: 0;
        padding: 0;
        color: var(--text);
    }

    body {
        background: #f5f6fa;
        padding: 2rem;
        line-height: 1.6;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    h1, h2, h4, h5 {
        color: var(--primary);
        margin-bottom: 1rem;
    }

    h1 { font-size: 2.5rem; }
    h2 { font-size: 1.8rem; }
    h4 { font-size: 1.2rem; }

    .calculator-form {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .input-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    input {
        padding: 0.8rem;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
    }

    input:focus {
        outline: none;
        border-color: var(--secondary);
    }

    button {
        background: var(--secondary);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.3s ease;
    }

    button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
    }

    .results {
        margin-top: 2rem;
        display: none;
    }

    .results-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    background: #f8f9fa;
    padding: 0.5rem;
    border-radius: 8px;
}

.tab-btn {
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    background: white;
    border: 2px solid #ddd;
    color: var(--primary);
    transition: all 0.3s ease;
    font-weight: 500;
}

.tab-btn:hover {
    background: var(--secondary);
    color: white;
    border-color: var(--secondary);
}

.tab-btn.active {
    background: var(--secondary);
    color: white;
    border-color: var(--secondary);
    position: relative;
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
}

/* Add small indicator for active tab */
.tab-btn.active::after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 3px;
    background: var(--secondary);
    border-radius: 2px;
}


    .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .summary-card {
        padding: 1.5rem;
        border-radius: 10px;
        background: var(--light);
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .stat-grid {
        display: grid;
        gap: 1rem;
        margin-top: 1rem;
    }

    .stat-item {
        display: flex;
        justify-content: space-between;
        padding: 1rem;
        background: white;
        border-radius: 8px;
        box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    }

    .chart-container {
        position: relative;
        height: 400px;
        margin: 2rem 0;
    }

    .strategy-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .strategy-card {
        padding: 1.5rem;
        border-radius: 10px;
        background: var(--light);
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease;
    }

    .strategy-card:hover {
        transform: translateY(-5px);
    }

    .strategy-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
    }

    .low-risk::before { background: var(--success); }
    .medium-risk::before { background: var(--warning); }
    .high-risk::before { background: var(--danger); }

    .allocation-chart {
        width: 180px;
        height: 180px;
        margin: 1rem auto;
    }

    .institution-list {
        margin: 1rem 0;
        padding-left: 1.5rem;
        list-style-type: none;
    }

    .institution-list li {
        margin: 0.5rem 0;
        padding: 0.3rem 0;
        border-bottom: 1px solid #eee;
    }

    .comparison-table {
        margin-top: 2rem;
        overflow-x: auto;
    }

    .strategy-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
    }

    .strategy-table th, 
    .strategy-table td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid #eee;
    }

    .strategy-table th {
        background: var(--light);
    }

    /* Growth Tab Specific Styles */
    .growth-insights {
        display: grid;
        grid-template-columns: 280px 1fr;
        gap: 2rem;
    }

    .metrics-card {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .metric-item {
        display: flex;
        justify-content: space-between;
        margin: 0.5rem 0;
        padding: 0.8rem;
        background: #f8f9fa;
        border-radius: 8px;
    }

    .metric-item.highlight {
        background: var(--secondary);
        color: white;
    }

    .metric-item.highlight span {
        color: white;
    }

    .benchmark-grid {
        display: grid;
        gap: 1rem;
        margin-top: 1rem;
    }

    .benchmark-item {
        display: grid;
        gap: 0.5rem;
    }

    .benchmark-bar {
        height: 20px;
        background: #eee;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
        transition: width 0.3s ease;
    }

    .benchmark-bar::after {
        content: attr(data-percent);
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.8rem;
        color: white;
    }

    .your-plan { background: var(--secondary); }
    .sp500 { background: var(--success); }
    .inflation { background: var(--danger); }

    .milestone-timeline {
        display: flex;
        justify-content: space-between;
        margin: 1.5rem 0;
        position: relative;
    }

    .milestone-timeline::before {
        content: '';
        position: absolute;
        top: 6px;
        left: 0;
        right: 0;
        height: 2px;
        background: #eee;
        z-index: 0;
    }

    .milestone {
        text-align: center;
        position: relative;
        z-index: 1;
        background: white;
        padding: 0 1rem;
    }

    .marker {
        width: 14px;
        height: 14px;
        background: var(--secondary);
        border-radius: 50%;
        margin: 0 auto 0.5rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .data-table {
        margin-top: 1rem;
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #eee;
        border-radius: 8px;
    }

    .data-table table {
        width: 100%;
        border-collapse: collapse;
    }

    .data-table th,
    .data-table td {
        padding: 0.8rem;
        text-align: right;
        border-bottom: 1px solid #eee;
    }

    .data-table th:first-child,
    .data-table td:first-child {
        text-align: left;
    }

    .educational-notes {
        margin-top: 2rem;
        padding: 1.5rem;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid var(--secondary);
    }

    .educational-notes .tips p {
        margin: 0.5rem 0;
    }

    .forecast-controls {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
        align-items: center;
        flex-wrap: wrap;
    }

    .slider-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    input[type="range"] {
        flex-grow: 1;
        height: 6px;
        border-radius: 3px;
        background: #eee;
        -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        background: var(--secondary);
        border-radius: 50%;
        cursor: pointer;
    }

    @media (max-width: 768px) {
        .container {
            padding: 1rem;
        }

        .growth-insights {
            grid-template-columns: 1fr;
        }

        .chart-container {
            height: 300px;
        }

        .data-table {
            max-height: 250px;
        }

        .forecast-controls {
            flex-direction: column;
            align-items: stretch;
        }
    }

    @media (max-width: 480px) {
        body {
            padding: 1rem;
        }

        .strategy-grid {
            grid-template-columns: 1fr;
        }

        .milestone-timeline {
            flex-direction: column;
            gap: 2rem;
        }

        .milestone-timeline::before {
            display: none;
        }

        .milestone {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .marker {
            margin: 0;
        }
    }
</style>
</head>
<body>
    <div class="container">
        <h1>Retirement Planner</h1>
        <div class="calculator-form">
            <div class="input-group">
                <label>Current Age</label>
                <input type="number" id="currentAge" value="30" min="18" max="100">
            </div>
            <div class="input-group">
                <label>Retirement Age</label>
                <input type="number" id="retirementAge" value="60" min="25" max="100">
            </div>
            <div class="input-group">
                <label>Current Savings ($)</label>
                <input type="number" id="currentSavings" value="50000">
            </div>
            <div class="input-group">
                <label>Monthly Contribution ($)</label>
                <input type="number" id="monthlyContribution" value="1000">
            </div>
            <div class="input-group">
                <label>Expected Annual Return (%)</label>
                <input type="number" id="annualReturn" value="7" step="0.1">
            </div>
        </div>
        <button onclick="calculateRetirement()">Calculate</button>

        <div class="results" id="results">
            <div class="results-tabs">
                <button class="tab-btn active" onclick="showTab('summary')">Summary</button>
                <button class="tab-btn" onclick="showTab('growth')">Growth Chart</button>
                <button class="tab-btn" onclick="showTab('strategies')">Strategies</button>
            </div>

            <!-- Summary Tab -->
            <div class="tab-content" id="summaryTab">
                <div class="summary-grid">
                    <div class="summary-card">
                        <h2>Retirement Timeline</h2>
                        <div class="stat-grid">
                            <div class="stat-item">
                                <span>Current Age</span>
                                <span id="currentAgeValue">30</span>
                            </div>
                            <div class="stat-item">
                                <span>Retirement Age</span>
                                <span id="retirementAgeValue">60</span>
                            </div>
                            <div class="stat-item">
                                <span>Years to Retirement</span>
                                <span id="yearsToRetire">30</span>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card">
                        <h2>Financial Overview</h2>
                        <div class="stat-grid">
                            <div class="stat-item">
                                <span>Current Savings</span>
                                <span id="currentSavingsValue">$50,000</span>
                            </div>
                            <div class="stat-item">
                                <span>Monthly Contribution</span>
                                <span id="monthlyContributionValue">$1,000</span>
                            </div>
                            <div class="stat-item">
                                <span>Required Corpus</span>
                                <span id="requiredCorpus">$1,234,567</span>
                            </div>
                            <div class="stat-item">
                                <span>Monthly Withdrawal</span>
                                <span id="monthlyWithdrawal">$4,116</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="savingsBreakdownChart"></canvas>
                </div>
            </div>

            <!-- Growth Chart Tab -->
<div class="tab-content" id="growthTab" style="display: none;">
    <div class="growth-insights">
        <!-- Left Panel -->
        <div class="growth-details">
            <div class="metrics-card">
                <h4>Key Growth Metrics</h4>
                <div class="metric-group">
                    <div class="metric-item">
                        <span>Total Contributions</span>
                        <span id="totalContributions">$420,000</span>
                    </div>
                    <div class="metric-item">
                        <span>Interest Earned</span>
                        <span id="interestEarned">$678,900</span>
                    </div>
                    <div class="metric-item highlight">
                        <span>Final Corpus</span>
                        <span id="finalCorpus">$1,098,900</span>
                    </div>
                </div>
            </div>

            <div class="benchmark-card">
                <h4>Benchmark Comparison</h4>
                <div class="benchmark-grid">
                    <div class="benchmark-item">
                        <span>Your Plan</span>
                        <div class="benchmark-bar your-plan" style="width: 75%">7%</div>
                    </div>
                    <div class="benchmark-item">
                        <span>S&P 500 (10yr avg)</span>
                        <div class="benchmark-bar sp500" style="width: 65%">6.7%</div>
                    </div>
                    <div class="benchmark-item">
                        <span>Inflation</span>
                        <div class="benchmark-bar inflation" style="width: 30%">3.2%</div>
                    </div>
                </div>
            </div>

            <div class="milestones-card">
                <h4>Projected Milestones</h4>
                <div class="milestone-timeline">
                    <div class="milestone">
                        <div class="marker"></div>
                        <span class="year">Year 5</span>
                        <span class="amount">$150K</span>
                    </div>
                    <div class="milestone">
                        <div class="marker"></div>
                        <span class="year">Year 10</span>
                        <span class="amount">$350K</span>
                    </div>
                    <div class="milestone">
                        <div class="marker"></div>
                        <span class="year">Year 20</span>
                        <span class="amount">$850K</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="growth-visuals">
            <div class="chart-container">
                <canvas id="growthChart"></canvas>
            </div>
            
            <div class="forecast-controls">
                <button onclick="toggleLogScale()">Toggle Scale</button>
                <button onclick="resetZoom()">Reset Zoom</button>
                <div class="slider-container">
                    <label>Adjust Return Rate:</label>
                    <input type="range" id="returnSlider" min="2" max="15" step="0.5" value="7" 
                           oninput="updateDynamicForecast(this.value)">
                    <span id="sliderValue">7%</span>
                </div>
            </div>

            <div class="data-table">
                <h4>Year-by-Year Breakdown</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Age</th>
                            <th>Contributions</th>
                            <th>Growth</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="growthTableBody">
                        <!-- JavaScript will populate this -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="educational-notes">
        <h4>📚 Investment Insights</h4>
        <div class="tips">
            <p>• The power of compounding accelerates significantly after Year 15 - stay consistent!</p>
            <p>• A 1% difference in returns could mean <span id="differenceNote">$250,000+</span> over 30 years</p>
            <p>• Consider tax-advantaged accounts (401k/IRA) to boost effective returns</p>
        </div>
    </div>
</div>

             <!-- Strategies Tab -->
            <div class="tab-content" id="strategiesTab" style="display: none;">
                <div class="strategy-grid">
                    <div class="strategy-card low-risk">
                        <h4>Conservative Strategy (Low Risk)</h4>
                        <div class="allocation-chart">
                            <canvas id="lowRiskChart"></canvas>
                        </div>
                        <h5>Asset Allocation:</h5>
                        <ul class="institution-list">
                            <li>▸ 40% Government Bonds & Securities</li>
                            <li>▸ 30% Fixed Deposits (FDs)</li>
                            <li>▸ 20% Debt Mutual Funds</li>
                            <li>▸ 10% REITs</li>
                        </ul>
                        <h5>Recommended Institutions:</h5>
                        <ul class="institution-list">
                            <li>• TreasuryDirect.gov</li>
                            <li>• SBI Fixed Deposits</li>
                            <li>• Vanguard Bond Index</li>
                        </ul>
                    </div>

                    <div class="strategy-card medium-risk">
                        <h4>Balanced Strategy (Medium Risk)</h4>
                        <div class="allocation-chart">
                            <canvas id="mediumRiskChart"></canvas>
                        </div>
                        <h5>Asset Allocation:</h5>
                        <ul class="institution-list">
                            <li>▸ 50% Index Funds & ETFs</li>
                            <li>▸ 25% Blue-chip Stocks</li>
                            <li>▸ 15% Real Estate</li>
                            <li>▸ 10% Gold ETFs</li>
                        </ul>
                        <h5>Recommended Institutions:</h5>
                        <ul class="institution-list">
                            <li>• Vanguard S&P 500 ETF</li>
                            <li>• Fidelity Investments</li>
                            <li>• ICICI Prudential Mutual Funds</li>
                        </ul>
                    </div>

                    <div class="strategy-card high-risk">
                        <h4>Aggressive Strategy (High Risk)</h4>
                        <div class="allocation-chart">
                            <canvas id="highRiskChart"></canvas>
                        </div>
                        <h5>Asset Allocation:</h5>
                        <ul class="institution-list">
                            <li>▸ 60% Growth Stocks</li>
                            <li>▸ 20% Cryptocurrencies</li>
                            <li>▸ 15% Venture Capital</li>
                            <li>▸ 5% Commodities</li>
                        </ul>
                        <h5>Recommended Institutions:</h5>
                        <ul class="institution-list">
                            <li>• Robinhood Markets</li>
                            <li>• Coinbase Crypto Exchange</li>
                            <li>• AngelList Ventures</li>
                        </ul>
                    </div>
                </div>

                <div class="comparison-table">
                    <h4>Strategy Comparison</h4>
                    <table class="strategy-table">
                        <tr>
                            <th>Parameter</th>
                            <th>Low Risk</th>
                            <th>Medium Risk</th>
                            <th>High Risk</th>
                        </tr>
                        <tr>
                            <td>Expected Returns</td>
                            <td>5-7%</td>
                            <td>8-10%</td>
                            <td>12%+</td>
                        </tr>
                        <tr>
                            <td>Volatility</td>
                            <td>Low</td>
                            <td>Moderate</td>
                            <td>High</td>
                        </tr>
                        <tr>
                            <td>Recommended Duration</td>
                            <td>5-7 Years</td>
                            <td>10-15 Years</td>
                            <td>15+ Years</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>


   <script>
    let growthChart, savingsChart;
    let lowRiskChart, mediumRiskChart, highRiskChart;
    let isLogScale = false;
    let annualReturnCache = 7;

    function calculateRetirement() {
        const currentAge = parseInt(document.getElementById('currentAge').value);
        const retirementAge = parseInt(document.getElementById('retirementAge').value);
        const years = retirementAge - currentAge;
        const monthlyContribution = parseFloat(document.getElementById('monthlyContribution').value);
        const annualReturn = parseFloat(document.getElementById('annualReturn').value)/100;
        annualReturnCache = annualReturn;
        const currentSavings = parseFloat(document.getElementById('currentSavings').value);

        if (years <= 0 || isNaN(years)) {
            alert('Please enter valid ages');
            return;
        }

        const monthlyRate = annualReturn / 12;
        const months = years * 12;
        let futureValue = currentSavings * Math.pow(1 + annualReturn, years);
        futureValue += monthlyContribution * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);

        const totalContributions = monthlyContribution * months;
        const interestEarned = futureValue - currentSavings - totalContributions;
        const milestones = calculateMilestones(currentAge, retirementAge, currentSavings, monthlyContribution, annualReturn);
        const yearlyData = calculateYearlyData(currentAge, retirementAge, currentSavings, monthlyContribution, annualReturn);

        const formatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            maximumFractionDigits: 0
        });

        // Update all display values
        document.getElementById('currentAgeValue').textContent = currentAge;
        document.getElementById('retirementAgeValue').textContent = retirementAge;
        document.getElementById('yearsToRetire').textContent = years;
        document.getElementById('currentSavingsValue').textContent = formatter.format(currentSavings);
        document.getElementById('monthlyContributionValue').textContent = formatter.format(monthlyContribution);
        document.getElementById('requiredCorpus').textContent = formatter.format(futureValue);
        document.getElementById('monthlyWithdrawal').textContent = formatter.format((futureValue * 0.04)/12);
        
        updateGrowthMetrics(totalContributions, interestEarned, futureValue, formatter);
        updateBenchmarks(annualReturn);
        updateMilestones(milestones, formatter);
        updateYearlyTable(yearlyData, formatter);
        updateEducationalNotes(annualReturn, futureValue, formatter, years);

        updateSavingsChart(currentSavings, totalContributions, futureValue);
        updateGrowthChart(currentAge, retirementAge, currentSavings, monthlyContribution, annualReturn);
        updateStrategyCharts();

        document.querySelector('.results').style.display = 'block';
    }

    function calculateMilestones(currentAge, retirementAge, initial, monthly, rate) {
        const milestones = [];
        const years = retirementAge - currentAge;
        let currentValue = initial;
        
        for(let year = 1; year <= years; year++) {
            currentValue = currentValue * (1 + rate) + (monthly * 12);
            if(year === 5 || year === 10 || year === 20) {
                milestones.push(currentValue);
            }
        }
        return milestones;
    }

    function calculateYearlyData(currentAge, retirementAge, initial, monthly, rate) {
        const yearlyData = [];
        const years = retirementAge - currentAge;
        let currentValue = initial;
        
        for(let year = 1; year <= years; year++) {
            const contributions = monthly * 12;
            const growth = currentValue * rate;
            currentValue += growth + contributions;
            
            yearlyData.push({
                year: year,
                age: currentAge + year,
                contributions: contributions,
                growth: growth,
                total: currentValue
            });
        }
        return yearlyData;
    }

    function updateGrowthMetrics(totalContributions, interestEarned, finalCorpus, formatter) {
        document.getElementById('totalContributions').textContent = formatter.format(totalContributions);
        document.getElementById('interestEarned').textContent = formatter.format(interestEarned);
        document.getElementById('finalCorpus').textContent = formatter.format(finalCorpus);
    }

    function updateBenchmarks(annualReturn) {
        const maxBenchmark = 15;
        const yourPlanWidth = (annualReturn * 100) / maxBenchmark * 100;
        const sp500Width = (6.7 / maxBenchmark) * 100;
        const inflationWidth = (3.2 / maxBenchmark) * 100;

        document.querySelector('.your-plan').style.width = `${yourPlanWidth}%`;
        document.querySelector('.sp500').style.width = `${sp500Width}%`;
        document.querySelector('.inflation').style.width = `${inflationWidth}%`;
    }

    function updateMilestones(milestones, formatter) {
        const milestoneElements = document.querySelectorAll('.milestone');
        milestoneElements.forEach((element, index) => {
            if(milestones[index]) {
                element.querySelector('.amount').textContent = formatter.format(milestones[index]);
                element.style.display = 'flex';
            } else {
                element.style.display = 'none';
            }
        });
    }

    function updateYearlyTable(data, formatter) {
        const tbody = document.getElementById('growthTableBody');
        tbody.innerHTML = '';
        
        data.forEach(item => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${item.year}</td>
                <td>${item.age}</td>
                <td>${formatter.format(item.contributions)}</td>
                <td>${formatter.format(item.growth)}</td>
                <td>${formatter.format(item.total)}</td>
            `;
            tbody.appendChild(row);
        });
    }

    function updateEducationalNotes(annualReturn, finalCorpus, formatter, years) {
        const alternativeReturn = annualReturn + 0.01;
        const alternativeValue = finalCorpus * Math.pow(1 + alternativeReturn, years) / Math.pow(1 + annualReturn, years);
        const difference = alternativeValue - finalCorpus;
        document.getElementById('differenceNote').textContent = formatter.format(difference);
    }

    function updateDynamicForecast(value) {
        document.getElementById('annualReturn').value = value;
        document.getElementById('sliderValue').textContent = `${value}%`;
        calculateRetirement();
    }

    function updateSavingsChart(initial, contributions, total) {
        const ctx = document.getElementById('savingsBreakdownChart').getContext('2d');
        const growth = total - initial - contributions;
        
        if(savingsChart) savingsChart.destroy();

        savingsChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Initial Savings', 'Contributions', 'Growth'],
                datasets: [{
                    data: [initial, contributions, growth],
                    backgroundColor: ['#3498db', '#2ecc71', '#f1c40f']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const value = context.parsed;
                                return context.label + ': ' + value.toLocaleString('en-US', {
                                    style: 'currency',
                                    currency: 'USD',
                                    maximumFractionDigits: 0
                                });
                            }
                        }
                    }
                }
            }
        });
    }

    function updateGrowthChart(currentAge, retirementAge, initial, monthly, rate) {
        const ctx = document.getElementById('growthChart').getContext('2d');
        const years = retirementAge - currentAge;
        const data = [];
        let currentValue = initial;

        for(let year = 1; year <= years; year++) {
            currentValue = currentValue * (1 + rate) + (monthly * 12);
            data.push(currentValue);
        }

        if(growthChart) growthChart.destroy();

        growthChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array.from({length: years}, (_, i) => currentAge + i + 1),
                datasets: [{
                    label: 'Portfolio Value',
                    data: data,
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    borderWidth: 2,
                    pointRadius: 0,
                    tension: 0.1,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    zoom: {
                        zoom: {
                            wheel: { enabled: true },
                            pinch: { enabled: true },
                            mode: 'x'
                        },
                        pan: { enabled: true }
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Age' } },
                    y: {
                        type: isLogScale ? 'logarithmic' : 'linear',
                        title: { display: true, text: 'Portfolio Value' },
                        ticks: {
                            callback: value => '$' + value.toLocaleString()
                        }
                    }
                }
            }
        });
    }

    function updateStrategyCharts() {
        // Low Risk Chart
        if(lowRiskChart) lowRiskChart.destroy();
        lowRiskChart = new Chart(document.getElementById('lowRiskChart'), {
            type: 'doughnut',
            data: {
                labels: ['Bonds', 'FDs', 'Debt', 'REITs'],
                datasets: [{
                    data: [40, 30, 20, 10],
                    backgroundColor: ['#27ae60', '#2ecc71', '#16a085', '#1abc9c']
                }]
            }
        });

        // Medium Risk Chart
        if(mediumRiskChart) mediumRiskChart.destroy();
        mediumRiskChart = new Chart(document.getElementById('mediumRiskChart'), {
            type: 'doughnut',
            data: {
                labels: ['Equity', 'REITs', 'Gold', 'Cash'],
                datasets: [{
                    data: [50, 25, 15, 10],
                    backgroundColor: ['#f1c40f', '#e67e22', '#f39c12', '#d35400']
                }]
            }
        });

        // High Risk Chart
        if(highRiskChart) highRiskChart.destroy();
        highRiskChart = new Chart(document.getElementById('highRiskChart'), {
            type: 'doughnut',
            data: {
                labels: ['Stocks', 'Crypto', 'VC', 'Commodities'],
                datasets: [{
                    data: [60, 20, 15, 5],
                    backgroundColor: ['#e74c3c', '#c0392b', '#e84393', '#fd79a8']
                }]
            }
        });
    }

    function toggleLogScale() {
        isLogScale = !isLogScale;
        growthChart.options.scales.y.type = isLogScale ? 'logarithmic' : 'linear';
        growthChart.update();
    }

    function resetZoom() {
        growthChart.resetZoom();
    }

    function showTab(tabName, event) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById(`${tabName}Tab`).style.display = 'block';
        event.target.classList.add('active');
    }

    // Initialize
    calculateRetirement();
    Chart.register(Chart.Zoom); // Register zoom plugin
</script>


    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K9KZ60761N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K9KZ60761N');
</script>
    
</body>
</html>
